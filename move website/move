由于我未满备案年龄，上次的备案失败了.....

我只能先把刚买好的阿里云学生机退款然后买更贵的香港服务器来用了

于是就买了一台2H1G的机子

为什么我不继续使用虚拟主机？因为稳定性是真的不行，每天网站至少有半个小时进不去，而且用服务器就意味着我又更大的权限，还可以跑Hexo之类的静态网站（虚拟主机跑Hexo太麻烦了）

### 为服务器装上宝塔 ###
服务器买到手第一步还是装上最熟悉的宝塔～

连接上SSH，输入
‘ yum install -y wget && wget -O install.sh http://download.bt.cn/install/install_6.0.sh && sh install.sh ‘
进行宝塔的安装，大约过十分钟左右就安装完毕了，之后用安装完给你的秘钥进入控制面板

### 运行环境的安装 ###
这里我就直接选择了一键安装，宝塔给的默认配置已经可以了，只要把PHP版本选择为7.3就好

### 数据库搬迁 ###
回到虚拟主机的宝塔面板，进入PHPmyAdmin，将网站的数据库导出为.sql格式，然后进入服务器的的宝塔，新建一个同名同密码数据库，导入即可

但是在这一步我遇到了两个问题

第一个问题就是myphpadmin老是出现
"continue" targeting switch is equivalent to "break". Did you mean to use "continue 2"?
这个致命问题，百度之后就是要将出现这个问题的PHP文件中的continue改为continue2，我试了，然后PHP就彻底出错打不开了.....XD

后来求助了一下[Rt大佬][1]，给出的答复是重装PHP，并选择编译安装，试了一下，成功了（感谢Rt！）

之后我重新进入phpmyadmin准备导入，结果遇到了nginx的405 Not Allowed这个错误，百度一下，装phpmyadmin 4.8即可解决，之后PHP就再也没出现过上面提到的两个错误了，导入旧数据库就OK了

### 搬移旧网站数据 ###
没什么难度，只要把旧网站的数据打包下载然后上传到新的网站上就行了

### 设置SSL ###
回到旧网站将SSL数据复制到新的宝塔面板，然后再把强制跳转https打开就好啦！

不知道这一次迁移之后我网站的速度有没有提升......

[1]:https://imrt.top
